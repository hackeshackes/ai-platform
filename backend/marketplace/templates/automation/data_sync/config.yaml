# 数据同步配置
name: "数据同步"
version: "1.0.0"
description: "多源数据同步系统，支持增量同步和错误恢复

sources:
  - name: "mysql_primary"
    type: "database"
    connection: "mysql://localhost:3306/app"
    tables:
      - "users"
      - "orders"
    incremental: true

  - name: "mongodb_logs"
    type: "mongodb"
    connection: "mongodb://localhost:27017/logs"
    collections:
      - "events"
    incremental: true

  - name: "api_external"
    type: "api"
    endpoint: "https://api.example.com/data"
    auth: "bearer"
    schedule: "hourly"

target:
  type: "datawarehouse"
  connection: "postgresql://localhost:5432/dw"
  schema: "staging"

transformation:
  enabled: true
  rules:
    - "normalize_dates"
    - "map_country_codes"
    - "calculate_derived_fields"

sync:
  mode: "incremental"
  batch_size: 1000
  parallel: true
  conflict_resolution: "source_wins"

error_handling:
  retry_count: 3
  retry_delay: 60
  dead_letter_queue: true
